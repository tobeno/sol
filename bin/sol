#!/usr/bin/env node
const path = require('path');
const fs = require('fs');
const { spawnSync } = require('child_process');

const rootPath = path.join(__dirname, '..');

if (!fs.existsSync(path.join(rootPath, 'node_modules'))) {
  spawnSync('npm i', {
    cwd: rootPath,
  });
}

require('ts-node').register({
  project: path.join(rootPath, 'tsconfig.json'),
  transpileOnly: true,
});

const { startSol } = require('../dist/src/index');

startSol();
